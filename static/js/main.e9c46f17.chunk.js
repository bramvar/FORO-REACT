(this.webpackJsonpforo=this.webpackJsonpforo||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(35),s=n.n(a),i=(n(87),n(0)),o=n.n(i),j=n(2),l=n(16),u=n(104),b=n(107),d=n(109),O=n(105),p=n(106),h=n(79),x=(n(89),n(57)),f=h.a.initializeApp({apiKey:"AIzaSyCaZQ5-MUEYPn9DdyfpVhfF96C_Mt5rNdQ",authDomain:"foro-react-a1392.firebaseapp.com",projectId:"foro-react-a1392",storageBucket:"foro-react-a1392.appspot.com",messagingSenderId:"966348630153",appId:"1:966348630153:web:dbf8356da42cf65e783e58"}).auth(),m=Object(x.b)(),v=n(5),g=c.a.createContext();function y(){return Object(r.useContext)(g)}function w(e){var t=e.children,n=Object(r.useState)(),c=Object(l.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!0),o=Object(l.a)(i,2),j=o[0],u=o[1];Object(r.useEffect)((function(){return f.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]);var b={currentUser:a,signUp:function(e,t){return f.createUserWithEmailAndPassword(e,t)},login:function(e,t){return f.signInWithEmailAndPassword(e,t)},logout:function(){return f.signOut()}};return Object(v.jsx)(g.Provider,{value:b,children:!j&&t})}var C=n(20),k=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(C.g)(),s=y(),i=s.currentUser,h=s.logout;function x(){return(x=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,h();case 4:a.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("oh, hubo un error al cerrar sesi\xf3n");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(v.jsxs)(u.a,{children:[Object(v.jsx)(b.a,{style:{width:"100%"},expand:"lg",bg:"dark",variant:"dark",children:Object(v.jsxs)(u.a,{children:[Object(v.jsx)(b.a.Brand,{href:"/",children:"SIMPLE FORO"}),Object(v.jsxs)(d.a,{className:"me-auto",children:[Object(v.jsx)(d.a.Link,{href:"/",children:"Home"}),Object(v.jsx)(d.a.Link,{href:"/myprofile",children:"Perfil"})]}),Object(v.jsx)(b.a.Toggle,{}),Object(v.jsxs)(b.a.Collapse,{className:"justify-content-end",children:[Object(v.jsx)("div",{style:{color:"white"},children:i.email}),Object(v.jsx)(O.a,{variant:"link",onClick:function(){return x.apply(this,arguments)},children:"Cerrar sesi\xf3n"})]})]})}),n&&Object(v.jsx)(p.a,{variant:"danger",children:n})]})},I=n(6),S=n(8),N=n(108),E=n(110);function R(e){var t=e.reply,n=e.author;return Object(v.jsx)(E.a,{children:Object(v.jsxs)(E.a.Body,{children:[Object(v.jsx)("p",{children:t}),Object(v.jsx)("div",{style:{textAlign:"right"},children:n})]})})}function U(e){var t=e.subject,n=e.body,r=e.author,c=e.comments;return Object(v.jsxs)(E.a,{className:"w-50",style:{marginTop:"50px"},children:[Object(v.jsxs)(E.a.Body,{children:[Object(v.jsx)("h3",{className:"mb-4",children:t}),Object(v.jsx)("p",{children:n}),Object(v.jsxs)("div",{style:{textAlign:"right"},children:["escrito por ",r]})]}),Object(v.jsxs)(u.a,{className:"w-70 d-flex justify-content-end flex-column",children:[Object(v.jsx)("h4",{children:"Comments"}),c.map((function(e){return Object(v.jsx)(R,{reply:e.replyText,author:e.creator})}))]})]})}var A=n(3),B=n(4),D=n(11),L=n(12),G=document.getElementById("portal"),M=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(){var e;return Object(A.a)(this,n),(e=t.call(this)).componentDidMount=function(){G.appendChild(e.el)},e.componentWillUnmount=function(){G.removeChild(e.el)},e.el=document.createElement("div"),e}return Object(B.a)(n,[{key:"render",value:function(){var e=this.props.children;return s.a.createPortal(e,this.el)}}]),n}(r.Component),P=function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(B.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.toggle,r=e.active;return Object(v.jsx)(M,{children:r&&Object(v.jsx)("div",{style:T.wrapper,children:Object(v.jsxs)("div",{style:T.window,children:[Object(v.jsx)("button",{style:T.closeIcon,onClick:n,children:"x"}),Object(v.jsx)("div",{children:t})]})})})}}]),n}(r.Component),T={wrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.3)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},window:{position:"relative",backgroundColor:"#fff",padding:"20px",borderRadius:"5px",width:"500px",height:"300",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},closeIcon:{position:"absolute",borderRadius:"5px",top:0,right:0}};function q(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)({}),s=Object(l.a)(a,2),i=s[0],o=s[1],j=function(){c(!n)};var b=Object(r.useState)([]),d=Object(l.a)(b,2),p=d[0],h=d[1];return console.log(p),Object(r.useEffect)((function(){return Object(x.c)(Object(x.a)(m,"discussions"),(function(e){return h(e.docs.map((function(e){return e.data()})))}))}),[]),Object(v.jsxs)("div",{children:[Object(v.jsxs)(u.a,{className:"d-flex align-items-center justify-content-center flex-column",children:[Object(v.jsx)(O.a,{className:"w-50",type:"submit",style:{padding:"10px",marginTop:"20px"},onClick:j,children:"+ CREAR NUEVA DISCUCI\xd3N"}),p.map((function(e){return Object(v.jsx)(U,{subject:e.title,body:e.godMessage,author:e.creator,comments:e.replies})}))]}),Object(v.jsx)(P,{active:n,toggle:j,children:Object(v.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),console.log(i)},children:[Object(v.jsxs)(N.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)("label",{children:"T\xedtulo"}),Object(v.jsx)("input",{type:"text",name:"title",value:i.title||"",onChange:function(e){var t=e.target.name,n=e.target.value;o((function(e){return Object(S.a)(Object(S.a)({},e),{},Object(I.a)({},t,n))}))}})]}),Object(v.jsxs)(N.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(v.jsx)("label",{children:"Mensaje"}),Object(v.jsx)("input",{as:"textarea",rows:"3",type:"text",name:"message",value:i.message||""})]}),Object(v.jsx)(O.a,{variant:"primary",type:"submit",children:"Enviar"})]})})]})}function F(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(k,{}),Object(v.jsx)(q,{})]})}var W=n(40);function z(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=Object(r.useRef)(),c=y(),a=c.signUp,s=(c.currentUser,Object(r.useState)("")),i=Object(l.a)(s,2),u=i[0],b=i[1],d=Object(r.useState)(!1),h=Object(l.a)(d,2),x=h[0],f=h[1],m=Object(C.g)();function g(){return(g=Object(j.a)(o.a.mark((function r(c){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.preventDefault(),t.current.value===n.current.value){r.next=3;break}return r.abrupt("return",b("las contrase\xf1as no coinciden"));case 3:return r.prev=3,b(""),f(!0),r.next=8,a(e.current.value,t.current.value);case 8:m.push("/"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),b("ocurrio un error al intertar registrar ");case 14:f(!1);case 15:case"end":return r.stop()}}),r,null,[[3,11]])})))).apply(this,arguments)}return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(E.a,{children:Object(v.jsxs)(E.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Registro"}),u&&Object(v.jsx)(p.a,{variant:"danger",children:u}),Object(v.jsxs)(N.a,{onSubmit:function(e){return g.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:"email",children:[Object(v.jsx)(N.a.Label,{children:"Email"}),Object(v.jsx)(N.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:"password",children:[Object(v.jsx)(N.a.Label,{children:"Contrase\xf1a"}),Object(v.jsx)(N.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:"password-confirm",children:[Object(v.jsx)(N.a.Label,{children:"Confirmaci\xf3n de contrase\xf1a"}),Object(v.jsx)(N.a.Control,{type:"password",ref:n,required:!0})]}),Object(v.jsx)(O.a,{disabled:x,className:"w-100",type:"submit",children:"Registrarse"})]})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["\xbfTienes una cuenta ya? ",Object(v.jsx)(W.b,{to:"/login",children:"Inicia sesi\xf3n "})]})]})}function H(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=y().login,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],i=a[1],b=Object(r.useState)(!1),d=Object(l.a)(b,2),h=d[0],x=d[1],f=Object(C.g)();function m(){return(m=Object(j.a)(o.a.mark((function r(c){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,i(""),x(!0),r.next=6,n(e.current.value,t.current.value);case 6:f.push("/"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),i("ocurrio un error al intertar iniciar sesi\xf3n");case 12:x(!1);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)}return Object(v.jsx)(u.a,{className:"d-flex align-items-center justify-content-center ",style:{minHeight:"100vh"},children:Object(v.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(v.jsx)(E.a,{children:Object(v.jsxs)(E.a.Body,{children:[Object(v.jsx)("h2",{className:"text-center mb-4",children:"Iniciar Sesi\xf3n"}),s&&Object(v.jsx)(p.a,{variant:"danger",children:s}),Object(v.jsxs)(N.a,{onSubmit:function(e){return m.apply(this,arguments)},children:[Object(v.jsxs)(N.a.Group,{id:"email",children:[Object(v.jsx)(N.a.Label,{children:"Email"}),Object(v.jsx)(N.a.Control,{type:"email",ref:e,required:!0})]}),Object(v.jsxs)(N.a.Group,{id:"password",children:[Object(v.jsx)(N.a.Label,{children:"Contrase\xf1a"}),Object(v.jsx)(N.a.Control,{type:"password",ref:t,required:!0})]}),Object(v.jsx)(O.a,{disabled:h,className:"w-100",type:"submit",children:"Iniciar"})]})]})}),Object(v.jsxs)("div",{className:"w-100 text-center mt-2",children:["\xbfNo te has registrado a\xfan? ",Object(v.jsx)(W.b,{to:"/signup",children:"Intentalo"}),", ser\xe1 r\xe1pido"]})]})})}var J=n(13),Q=["component"];function V(e){var t=e.component,n=Object(J.a)(e,Q),r=y().currentUser;return Object(v.jsx)(C.b,Object(S.a)(Object(S.a)({},n),{},{render:function(e){return r?Object(v.jsx)(t,Object(S.a)({},e)):Object(v.jsx)(C.a,{to:"/login"})}}))}var K=function(){return Object(v.jsx)(u.a,{children:Object(v.jsx)(W.a,{children:Object(v.jsx)(w,{children:Object(v.jsxs)(C.d,{children:[Object(v.jsx)(V,{exact:!0,path:"/",component:F}),Object(v.jsx)(C.b,{path:"/signup",component:z}),Object(v.jsx)(C.b,{path:"/login",component:H})]})})})})};n(99);s.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(K,{})}),document.getElementById("root"))},87:function(e,t,n){}},[[100,1,2]]]);
//# sourceMappingURL=main.e9c46f17.chunk.js.map